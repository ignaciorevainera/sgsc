---
import { Icon } from "astro-icon/components";

const links = [
  { href: "/ranking", label: "Clasificación" },
  { href: "/matches", label: "Partidos" },
  { href: "/players", label: "Jugadores" },
  { href: "/teams", label: "Equipos" },
  { href: "/fields", label: "Canchas" },
  { href: "/hall-of-fame", label: "Salón de la Fama" },
];

const currentPath = Astro.url.pathname;
---

<header
  id="site-header"
  class="navbar bg-base-100/95 supports-backdrop-filter:bg-base-100/80 sticky top-0 z-50 rounded-b-2xl shadow-none backdrop-blur transition-shadow duration-200"
>
  <div class="navbar-start">
    <div class="dropdown mt-2">
      <div tabindex="0" role="button" class="btn btn-ghost lg:hidden">
        <Icon name="material-symbols:menu-rounded" size={24} />
      </div>
      <ul
        tabindex="-1"
        class="menu menu-sm dropdown-content bg-base-100 rounded-box z-1 mt-3 w-52 p-2 shadow"
      >
        {
          links.map((link) => (
            <li>
              <a
                href={link.href}
                class={
                  currentPath.startsWith(link.href)
                    ? "active text-primary font-bold"
                    : ""
                }
              >
                {link.label}
              </a>
            </li>
          ))
        }
      </ul>
    </div>
    <a href="/" class="btn btn-ghost text-xl font-bold">SGSC</a>
  </div>
  <div class="navbar-center hidden lg:flex">
    <ul class="menu menu-horizontal px-1">
      {
        links.map((link) => (
          <li>
            <a
              href={link.href}
              class={
                currentPath.startsWith(link.href)
                  ? "active text-primary font-bold"
                  : ""
              }
            >
              {link.label}
            </a>
          </li>
        ))
      }
    </ul>
  </div>
  <div class="navbar-end">
    <button
      class="btn btn-ghost btn-circle"
      data-toggle-theme="light,dark"
      data-act-class="ACTIVECLASS"
    >
      <Icon name="material-symbols:contrast" size={24} />
    </button>
  </div>
</header>

<script>
  const header = document.getElementById("site-header");
  const toggleShadow = () => {
    if (!header) return;
    const scrolled = window.scrollY > 4;
    header.classList.toggle("shadow-md", scrolled);
    header.classList.toggle("shadow-none", !scrolled);
  };

  toggleShadow();
  window.addEventListener("scroll", toggleShadow, { passive: true });
</script>
