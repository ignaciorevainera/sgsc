---
import { Icon } from "astro-icon/components";
import Avatar from "@/components/Avatar.astro";

const { player } = Astro.props;

// Iniciales para el avatar
const initials = player.nickname
  ? player.nickname.substring(0, 2).toUpperCase()
  : "NN";
---

<a
  href={`/players/${player.player_id}`}
  class="card bg-base-100 border-base-200 group rounded-xl border shadow-md transition-all hover:-translate-y-1 hover:shadow-lg"
  aria-label={`Ver perfil de ${player.nickname}`}
>
  <div class="card-body">
    <div class="mb-4 flex items-center gap-4">
      <Avatar initial={initials} size="sm" />

      <h2
        class="card-title text-base-content group-hover:text-primary text-lg transition-colors"
      >
        {player.nickname}
      </h2>
    </div>

    <div
      class="stats stats-horizontal bg-base-200 w-full overflow-hidden rounded-xl"
    >
      <div class="stat place-items-center px-3 py-2">
        <div
          class="stat-title text-base-content/60 text-xs font-bold uppercase"
        >
          PJ
        </div>
        <div class="stat-value text-base-content text-lg">
          {player.matches_played}
        </div>
      </div>

      <div class="stat place-items-center px-3 py-2">
        <div class="stat-title text-success text-xs font-bold uppercase">
          Gan
        </div>
        <div class="stat-value text-success text-lg">{player.wins}</div>
      </div>

      <div class="stat bg-primary/10 place-items-center px-3 py-2">
        <div class="stat-title text-primary text-xs font-bold uppercase">
          Pts
        </div>
        <div class="stat-value text-primary text-lg">{player.points}</div>
      </div>
    </div>

    <div class="divider m-0"></div>

    <div class="text-primary flex items-center justify-between">
      <span class="flex items-center gap-1 text-xs font-semibold">
        Ver perfil
      </span>
      <Icon name="material-symbols:arrow-forward" aria-hidden="true" />
    </div>
  </div>
</a>
