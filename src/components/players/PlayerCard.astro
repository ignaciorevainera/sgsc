---
import { Icon } from "astro-icon/components";

const { player } = Astro.props;

// Iniciales para el avatar
const initials = player.nickname
  ? player.nickname.substring(0, 2).toUpperCase()
  : "NN";
---

<a
  href={`/players/${player.player_id}`}
  class="card bg-base-100 border-base-200 group rounded-xl border shadow-md transition-all hover:-translate-y-1 hover:shadow-lg"
>
  <div class="card-body">
    <div class="mb-4 flex items-center gap-4">
      <div class="avatar placeholder">
        <div
          class="bg-neutral text-neutral-content ring-offset-base-100 ring-primary/20 group-hover:ring-primary flex w-12 items-center justify-center rounded-full ring ring-offset-2 transition-all"
        >
          <span class="text-xl font-bold">{initials}</span>
        </div>
      </div>

      <h2
        class="card-title text-base-content group-hover:text-primary text-lg transition-colors"
      >
        {player.nickname}
      </h2>
    </div>

    <div
      class="stats stats-vertical lg:stats-horizontal bg-base-200/50 w-full overflow-hidden shadow"
    >
      <div class="stat place-items-center p-2">
        <div
          class="stat-title text-base-content/60 text-xs font-bold uppercase"
        >
          Jugados
        </div>
        <div class="stat-value text-base-content text-lg">
          {player.matches_played}
        </div>
      </div>

      <div class="stat border-base-content/5 place-items-center border-l p-2">
        <div
          class="stat-title text-base-content/60 text-xs font-bold uppercase"
        >
          Ganados
        </div>
        <div class="stat-value text-success text-lg">{player.wins}</div>
      </div>

      <div
        class="stat border-base-content/5 bg-primary/5 place-items-center border-l p-2"
      >
        <div class="stat-title text-primary text-xs font-bold uppercase">
          Puntos
        </div>
        <div class="stat-value text-primary text-lg">{player.points}</div>
      </div>
    </div>

    <div class="divider m-0"></div>

    <div class="text-primary flex items-center justify-between">
      <span class="flex items-center gap-1 text-xs font-semibold">
        Ver perfil
      </span>
      <Icon name="material-symbols:arrow-forward" />
    </div>
  </div>
</a>
